{"openapi":"3.0.1","info":{"title":"Vertex Backend API æ–‡æ¡£","description":"# Vertex Backend å¤šåŠŸèƒ½åç«¯ç³»ç»Ÿ\n\n## åŠŸèƒ½æ¨¡å—\n- ğŸ“ **åšå®¢ç®¡ç†**ï¼šåˆ†ç»„ã€æ–‡æ¡£ã€å‘å¸ƒã€æƒé™æ§åˆ¶\n- ğŸ“ **æ–‡ä»¶ç®¡ç†**ï¼šä¸Šä¼ ã€ä¸‹è½½ã€æ–‡ä»¶å¤¹ã€ç§’ä¼ ã€å›æ”¶ç«™\n- ğŸ” **ç”¨æˆ·è®¤è¯**ï¼šJWTä»¤ç‰Œã€ç”¨æˆ·/æ¸¸å®¢è§’è‰²\n\n## æŠ€æœ¯æ ˆ\n- Spring Boot 3.2.12\n- Kotlin 1.9.25\n- MyBatis-Plus 3.5.5\n- Redisç¼“å­˜\n- MinIOå¯¹è±¡å­˜å‚¨\n\n## è®¤è¯è¯´æ˜\nå¤§éƒ¨åˆ†æ¥å£éœ€è¦JWTä»¤ç‰Œè®¤è¯ï¼Œè¯·å…ˆè°ƒç”¨ç™»å½•æ¥å£è·å–ä»¤ç‰Œã€‚","contact":{"name":"ZZY","url":"https://github.com/yourusername/vertex-backend","email":"your-email@example.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"Bearerè®¤è¯":[]}],"tags":[{"name":"æ–‡ä»¶ç®¡ç†","description":"æ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ã€ç§»åŠ¨ã€æ‰¹é‡æ“ä½œç­‰API"},{"name":"æ’åºç®¡ç†","description":"åˆ†ç»„å’Œæ–‡æ¡£çš„æ‰¹é‡æ’åºä¸ç§»åŠ¨"},{"name":"åˆ†ç»„ç®¡ç†","description":"æ–‡æ¡£åˆ†ç»„çš„å¢åˆ æ”¹æŸ¥ã€æ ‘å½¢ç»“æ„ç®¡ç†"},{"name":"ç›®å½•æ ‘ç®¡ç†","description":"è·å–å®Œæ•´çš„ç›®å½•æ ‘ç»“æ„ï¼ˆåˆ†ç»„+æ–‡æ¡£ï¼‰ï¼ŒåŒ…å«Redisç¼“å­˜"},{"name":"æ–‡æ¡£ç®¡ç†","description":"æ–‡æ¡£çš„å¢åˆ æ”¹æŸ¥ã€å‘å¸ƒçŠ¶æ€ç®¡ç†"},{"name":"æ–‡ä»¶å¤¹ç®¡ç†","description":"æ–‡ä»¶å¤¹çš„å¢åˆ æ”¹æŸ¥ã€æ ‘å½¢ç»“æ„ã€è·¯å¾„ç®¡ç†ç­‰API"},{"name":"ç”¨æˆ·ç®¡ç†","description":"ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢ã€ä¿®æ”¹ç­‰æ¥å£"},{"name":"è®¤è¯ç®¡ç†","description":"ç”¨æˆ·ç™»å½•ã€ç™»å‡ºç­‰è®¤è¯ç›¸å…³æ¥å£"}],"paths":{"/api/folders/{id}":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"è·å–æ–‡ä»¶å¤¹è¯¦æƒ…","description":"è·å–æŒ‡å®šæ–‡ä»¶å¤¹çš„è¯¦ç»†ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®ï¼Œå¯é€‰æ‹©æ˜¯å¦åŒ…å«ç¥–å…ˆè·¯å¾„","operationId":"getFolderInfo","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶å¤¹ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"includeAncestors","in":"query","description":"æ˜¯å¦åŒ…å«ç¥–å…ˆè·¯å¾„ä¿¡æ¯","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseObject"}}}}}},"put":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"æ›´æ–°æ–‡ä»¶å¤¹","description":"æ›´æ–°æ–‡ä»¶å¤¹ä¿¡æ¯ï¼ˆåç§°ã€é¢œè‰²ã€æè¿°ã€ç§»åŠ¨ç­‰ï¼‰","operationId":"updateFolder","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶å¤¹ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFolderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFolderResponse"}}}}}},"delete":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"åˆ é™¤æ–‡ä»¶å¤¹","description":"åˆ é™¤æ–‡ä»¶å¤¹ï¼ˆè½¯åˆ é™¤ï¼‰ï¼Œæ”¯æŒé€’å½’åˆ é™¤","operationId":"deleteFolder","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶å¤¹ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"recursive","in":"query","description":"æ˜¯å¦é€’å½’åˆ é™¤å­æ–‡ä»¶å¤¹å’Œæ–‡ä»¶","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/files/{id}":{"get":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"è·å–æ–‡ä»¶è¯¦æƒ…","description":"æ ¹æ®æ–‡ä»¶IDè·å–è¯¦ç»†ä¿¡æ¯","operationId":"getFileInfo","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFileResponse"}}}}}},"put":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ›´æ–°æ–‡ä»¶ä¿¡æ¯","description":"æ›´æ–°æ–‡ä»¶åç§°ã€æè¿°ç­‰","operationId":"updateFile","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFileResponse"}}}}}},"delete":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"åˆ é™¤æ–‡ä»¶","description":"åˆ é™¤æ–‡ä»¶ï¼ˆè½¯åˆ é™¤ï¼Œç§»å…¥å›æ”¶ç«™ï¼‰","operationId":"deleteFile","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/files/{id}/move":{"put":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"ç§»åŠ¨æ–‡ä»¶","description":"å°†æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šæ–‡ä»¶å¤¹","operationId":"moveFile","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MoveFileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFileResponse"}}}}}}},"/api/sort/groups":{"post":{"tags":["æ’åºç®¡ç†"],"summary":"æ‰¹é‡æ›´æ–°åˆ†ç»„æ’åº","description":"æ‰¹é‡æ›´æ–°åˆ†ç»„çš„çˆ¶åˆ†ç»„å’Œæ’åºç´¢å¼•","operationId":"sortGroups","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupSortRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/api/sort/documents":{"post":{"tags":["æ’åºç®¡ç†"],"summary":"æ‰¹é‡æ›´æ–°æ–‡æ¡£æ’åº","description":"æ‰¹é‡æ›´æ–°æ–‡æ¡£çš„åˆ†ç»„å’Œæ’åºç´¢å¼•","operationId":"sortDocuments","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentSortRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/api/groups":{"get":{"tags":["åˆ†ç»„ç®¡ç†"],"summary":"è·å–åˆ†ç»„æ ‘","description":"è·å–å½“å‰ç”¨æˆ·çš„åˆ†ç»„æ ‘å½¢ç»“æ„","operationId":"getGroupTree","parameters":[{"name":"rootOnly","in":"query","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListGroupResponse"}}}}}},"post":{"tags":["åˆ†ç»„ç®¡ç†"],"summary":"åˆ›å»ºåˆ†ç»„","description":"åˆ›å»ºæ–°çš„æ–‡æ¡£åˆ†ç»„","operationId":"createGroup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGroupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseGroupResponse"}}}}}}},"/api/folders":{"post":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"åˆ›å»ºæ–‡ä»¶å¤¹","description":"åœ¨æŒ‡å®šä½ç½®åˆ›å»ºæ–°æ–‡ä»¶å¤¹","operationId":"createFolder","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFolderRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFolderResponse"}}}}}}},"/api/folders/batch-sort":{"post":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"æ‰¹é‡æ’åºæ–‡ä»¶å¤¹","description":"æ‰¹é‡æ›´æ–°æ–‡ä»¶å¤¹çš„æ’åºç´¢å¼•ï¼ˆç”¨äºæ‹–æ‹½æ’åºï¼‰","operationId":"batchSortFolders","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchSortFoldersRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/files/{id}/restore":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ¢å¤æ–‡ä»¶","description":"ä»å›æ”¶ç«™æ¢å¤æ–‡ä»¶","operationId":"restoreFile","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringBoolean"}}}}}}},"/api/files/upload":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"ä¸Šä¼ æ–‡ä»¶","description":"ä¸Šä¼ æ–‡ä»¶åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œæ”¯æŒç§’ä¼ ï¼Œæœ€å¤§100MB","operationId":"uploadFile","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"folderId","in":"query","description":"æ‰€å±æ–‡ä»¶å¤¹IDï¼ˆnullè¡¨ç¤ºæ ¹ç›®å½•ï¼‰","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"description","in":"query","description":"æ–‡ä»¶æè¿°","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"ä¸Šä¼ çš„æ–‡ä»¶","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFileResponse"}}}}}}},"/api/files/upload/attachment":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"ä¸Šä¼ é™„ä»¶","description":"ä¸Šä¼ é™„ä»¶æ–‡ä»¶ï¼Œè‡ªåŠ¨å­˜å‚¨åˆ°ç³»ç»Ÿ/é™„ä»¶æ–‡ä»¶å¤¹","operationId":"uploadAttachment","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"description","in":"query","description":"æ–‡ä»¶æè¿°","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"ä¸Šä¼ çš„æ–‡ä»¶","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFileResponse"}}}}}}},"/api/files/cache/clear":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ¸…é™¤æ‰€æœ‰ç¼“å­˜","description":"æ¸…é™¤Redisä¸­çš„æ‰€æœ‰æ–‡ä»¶ç›¸å…³ç¼“å­˜ï¼Œä»…ç”¨äºå¼€å‘æˆ–æµ‹è¯•ç¯å¢ƒ","operationId":"clearCache","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/files/batch":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ‰¹é‡æ“ä½œ","description":"æ‰¹é‡æ“ä½œæ–‡ä»¶ï¼ˆç§»åŠ¨ã€åˆ é™¤ã€æ¢å¤ç­‰ï¼‰","operationId":"batchOperation","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchOperationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBatchOperationResponse"}}}}}}},"/api/files/batch-move":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ‰¹é‡ç§»åŠ¨æ–‡ä»¶","description":"æ‰¹é‡å°†æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šæ–‡ä»¶å¤¹","operationId":"batchMoveFiles","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchMoveFilesRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringObject"}}}}}}},"/api/files/batch-delete":{"post":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ‰¹é‡åˆ é™¤æ–‡ä»¶","description":"æ‰¹é‡åˆ é™¤æ–‡ä»¶ï¼ˆè½¯åˆ é™¤ï¼‰","operationId":"batchDeleteFiles","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchDeleteFilesRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringObject"}}}}}}},"/api/documents":{"get":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"æŸ¥è¯¢æ–‡æ¡£åˆ—è¡¨","description":"æ¸¸æ ‡åˆ†é¡µæŸ¥è¯¢æ–‡æ¡£ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ã€æ’åº","operationId":"getDocuments","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string"}},{"name":"groupId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"default"}},{"name":"order","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePaginatedResponseDocumentItem"}}}}}},"post":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"åˆ›å»ºæ–‡æ¡£","description":"ä¸Šä¼ æ–‡ä»¶åˆ›å»ºæ–°çš„æ–‡æ¡£ï¼ˆæ”¯æŒmd/pdf/txtï¼‰","operationId":"createDocument","parameters":[{"name":"title","in":"query","description":"æ–‡æ¡£æ ‡é¢˜","required":true,"schema":{"type":"string"}},{"name":"groupId","in":"query","description":"åˆ†ç»„IDï¼ˆå¯é€‰ï¼‰","required":false,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"æ–‡æ¡£æ–‡ä»¶","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDocumentDetail"}}}}}}},"/api/documents/batch-upload":{"post":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"æ‰¹é‡ä¸Šä¼ æ–‡æ¡£","description":"\n            ä¸Šä¼ ä¸€ä¸ªZIPå‹ç¼©åŒ…è¿›è¡Œæ‰¹é‡å¯¼å…¥ã€‚\n            - ZIPåŒ…å†…çš„æ–‡ä»¶å¤¹ä¼šè¢«åˆ›å»ºä¸ºåˆ†ç»„ï¼ˆGroupï¼‰\n            - æ”¯æŒåµŒå¥—æ–‡ä»¶å¤¹ç»“æ„\n            - æ–‡ä»¶ä¼šè¢«åˆ›å»ºä¸ºæ–‡æ¡£ï¼ˆDocumentï¼‰ï¼Œæ”¯æŒ .md, .txt, .pdf æ ¼å¼\n            - parentGroupId æŒ‡å®šçˆ¶åˆ†ç»„IDï¼Œä¸ä¼ æˆ–ä¼ nullè¡¨ç¤ºåœ¨æ ¹ç›®å½•ä¸Šä¼ \n            - åŒä¸€çˆ¶åˆ†ç»„ä¸‹çš„åŒååˆ†ç»„ä¼šè‡ªåŠ¨åˆå¹¶\n            - å¦‚æœå¤„ç†å¤±è´¥ä¼šè‡ªåŠ¨å›æ»šæ‰€æœ‰æ›´æ”¹\n        ","operationId":"batchUpload","parameters":[{"name":"parentGroupId","in":"query","description":"çˆ¶åˆ†ç»„IDï¼Œä¸ä¼ æˆ–ä¼ nullè¡¨ç¤ºåœ¨æ ¹ç›®å½•ä¸Šä¼ ","required":false,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"ZIPå‹ç¼©åŒ…æ–‡ä»¶","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBatchUploadResponse"}}}}}}},"/api/auth/logout":{"post":{"tags":["è®¤è¯ç®¡ç†"],"summary":"ç”¨æˆ·ç™»å‡º","description":"æ’¤é”€æ‰€æœ‰RefreshTokenï¼Œæ¸…é™¤Cookieã€‚å‰ç«¯éœ€åŒæ—¶æ¸…é™¤accessToken","operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUnit"}}}}}}},"/api/auth/login":{"post":{"tags":["è®¤è¯ç®¡ç†"],"summary":"ç”¨æˆ·ç™»å½•","description":"ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ç™»å½•ã€‚è¿”å›accessTokenï¼ˆå­˜å†…å­˜ï¼‰å’ŒrefreshTokenï¼ˆHttpOnly Cookieï¼‰","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseLoginResponse"}}}}}}},"/api/groups/{id}":{"delete":{"tags":["åˆ†ç»„ç®¡ç†"],"summary":"åˆ é™¤åˆ†ç»„","description":"åˆ é™¤åˆ†ç»„ï¼ˆè½¯åˆ é™¤ï¼‰ï¼Œå¦‚æœæœ‰å­åˆ†ç»„åˆ™æ— æ³•åˆ é™¤","operationId":"deleteGroup","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}},"patch":{"tags":["åˆ†ç»„ç®¡ç†"],"summary":"æ›´æ–°åˆ†ç»„","description":"æ›´æ–°åˆ†ç»„ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€çˆ¶åˆ†ç»„ã€æ’åº","operationId":"updateGroup","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGroupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseGroupResponse"}}}}}}},"/api/documents/{id}":{"get":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"è·å–æ–‡æ¡£è¯¦æƒ…","description":"æ ¹æ®IDè·å–æ–‡æ¡£è¯¦ç»†ä¿¡æ¯","operationId":"getDocument","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDocumentDetail"}}}}}},"delete":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"åˆ é™¤æ–‡æ¡£","description":"åˆ é™¤æ–‡æ¡£ï¼ˆè½¯åˆ é™¤ï¼ŒåŒæ—¶åˆ é™¤å…³è”æ–‡ä»¶ï¼‰","operationId":"deleteDocument","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}},"patch":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"æ›´æ–°æ–‡æ¡£","description":"æ›´æ–°æ–‡æ¡£ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…å®¹ã€åˆ†ç»„ç­‰","operationId":"updateDocument","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDocumentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDocumentDetail"}}}}}}},"/api/documents/{id}/file":{"patch":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"æ›´æ–°æ–‡æ¡£æ–‡ä»¶","description":"æ›¿æ¢æ–‡æ¡£çš„æ–‡ä»¶å†…å®¹","operationId":"updateDocumentFile","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"æ–°çš„æ–‡æ¡£æ–‡ä»¶","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDocumentDetail"}}}}}}},"/api/user/me":{"get":{"tags":["ç”¨æˆ·ç®¡ç†"],"summary":"è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯","description":"è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœ AccessToken è¿‡æœŸï¼Œä¼šè‡ªåŠ¨åˆ·æ–°ã€‚","operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserInfo"}}}}}}},"/api/folders/{id}/subfolders":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"è·å–å­æ–‡ä»¶å¤¹åˆ—è¡¨","description":"ä»…è·å–å­æ–‡ä»¶å¤¹åˆ—è¡¨ï¼ˆä¸å«æ–‡ä»¶ï¼‰ï¼Œæ”¯æŒæ¸¸æ ‡åˆ†é¡µï¼Œé€‚ç”¨äºæ ‘å½¢å¯¼èˆªçš„æ‡’åŠ è½½","operationId":"getSubFolders","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶å¤¹IDï¼Œrootè¡¨ç¤ºæ ¹ç›®å½•","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cursor","in":"query","description":"åˆ†é¡µæ¸¸æ ‡ï¼Œé¦–æ¬¡è¯·æ±‚ä¸ä¼ ","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"æ¯é¡µæ•°é‡","required":false,"schema":{"type":"integer","format":"int32","default":100}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePaginatedResponseFolderResource"}}}}}}},"/api/folders/{id}/search":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"æœç´¢ç›®å½•å†…å®¹","description":"åœ¨æŒ‡å®šç›®å½•èŒƒå›´å†…æœç´¢æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ¸¸æ ‡åˆ†é¡µå’Œç±»å‹ç­›é€‰","operationId":"searchInFolder","parameters":[{"name":"id","in":"path","description":"æœç´¢èŒƒå›´çš„æ–‡ä»¶å¤¹IDï¼Œrootè¡¨ç¤ºå…¨å±€æœç´¢","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"keyword","in":"query","description":"æœç´¢å…³é”®è¯","required":true,"schema":{"type":"string"}},{"name":"cursor","in":"query","description":"åˆ†é¡µæ¸¸æ ‡ï¼Œé¦–æ¬¡è¯·æ±‚ä¸ä¼ ","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"æ¯é¡µæ•°é‡","required":false,"schema":{"type":"integer","format":"int32","default":50}},{"name":"type","in":"query","description":"ç±»å‹ç­›é€‰ï¼šall, folder, file","required":false,"schema":{"type":"string","default":"all"}},{"name":"orderBy","in":"query","description":"æ’åºå­—æ®µï¼šname, size, updatedAt","required":false,"schema":{"type":"string","default":"name"}},{"name":"order","in":"query","description":"æ’åºæ–¹å‘ï¼šasc, desc","required":false,"schema":{"type":"string","default":"asc"}},{"name":"recursive","in":"query","description":"æ˜¯å¦é€’å½’æœç´¢å­ç›®å½•","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePaginatedResponseBaseResource"}}}}}}},"/api/folders/{id}/path":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"è·å–æ–‡ä»¶å¤¹è·¯å¾„","description":"è·å–æ–‡ä»¶å¤¹çš„å®Œæ•´è·¯å¾„ï¼ˆé¢åŒ…å±‘å¯¼èˆªï¼‰","operationId":"getFolderPath","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶å¤¹ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFolderPathResponse"}}}}}}},"/api/folders/{id}/children":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"è·å–ç›®å½•å†…å®¹åˆ—è¡¨","description":"è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹æ··åˆåˆ—è¡¨ï¼Œæ”¯æŒæ¸¸æ ‡åˆ†é¡µã€æ’åºã€ç­›é€‰å’Œæœç´¢","operationId":"getFolderChildren","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶å¤¹IDï¼Œrootè¡¨ç¤ºæ ¹ç›®å½•","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cursor","in":"query","description":"åˆ†é¡µæ¸¸æ ‡ï¼Œé¦–æ¬¡è¯·æ±‚ä¸ä¼ ","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"æ¯é¡µæ•°é‡ï¼ŒèŒƒå›´1-200","required":false,"schema":{"type":"integer","format":"int32","default":50}},{"name":"keyword","in":"query","description":"æœç´¢å…³é”®è¯","required":false,"schema":{"type":"string"}},{"name":"orderBy","in":"query","description":"æ’åºå­—æ®µï¼šname, size, updatedAt, type","required":false,"schema":{"type":"string","default":"name"}},{"name":"order","in":"query","description":"æ’åºæ–¹å‘ï¼šasc, desc","required":false,"schema":{"type":"string","default":"asc"}},{"name":"type","in":"query","description":"ç±»å‹ç­›é€‰ï¼šall, folder, file","required":false,"schema":{"type":"string","default":"all"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePaginatedResponseBaseResource"}}}}}}},"/api/folders/tree":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"è·å–æ–‡ä»¶å¤¹æ ‘","description":"è·å–ç”¨æˆ·çš„å®Œæ•´æ–‡ä»¶å¤¹æ ‘å½¢ç»“æ„","operationId":"getFolderTree","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"includeStats","in":"query","description":"æ˜¯å¦åŒ…å«ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ–‡ä»¶æ•°ã€å¤§å°ç­‰ï¼‰","required":false,"schema":{"type":"boolean","default":true}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFolderTreeResponse"}}}}}}},"/api/folders/root":{"get":{"tags":["æ–‡ä»¶å¤¹ç®¡ç†"],"summary":"è·å–æ ¹ç›®å½•ä¿¡æ¯","description":"è·å–ç”¨æˆ·æ ¹ç›®å½•çš„å…ƒä¿¡æ¯åŠé¦–æ‰¹å­æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œæ”¯æŒæ¸¸æ ‡åˆ†é¡µ","operationId":"getRootFolder","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","description":"è¿”å›çš„å­æ–‡ä»¶å¤¹æ•°é‡","required":false,"schema":{"type":"integer","format":"int32","default":50}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseRootFolderResponse"}}}}}}},"/api/files/{id}/download":{"get":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"ä¸‹è½½æ–‡ä»¶","description":"æ ¹æ®æ–‡ä»¶IDä¸‹è½½æ–‡ä»¶ï¼ˆå…¬å¼€æ¥å£ï¼Œæ— éœ€è®¤è¯ï¼‰","operationId":"downloadFile","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/files/statistics":{"get":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"è·å–æ–‡ä»¶ç»Ÿè®¡ä¿¡æ¯","description":"è·å–ç”¨æˆ·çš„æ–‡ä»¶æ€»æ•°ã€æ€»å¤§å°ã€ç±»å‹åˆ†å¸ƒç­‰ç»Ÿè®¡ä¿¡æ¯","operationId":"getFileStatistics","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFileStatisticsResponse"}}}}}}},"/api/files/recycle-bin":{"get":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"è·å–å›æ”¶ç«™æ–‡ä»¶åˆ—è¡¨","description":"æŸ¥è¯¢å·²åˆ é™¤ä½†æœªå½»åº•æ¸…ç†çš„æ–‡ä»¶ï¼Œæ”¯æŒæ¸¸æ ‡åˆ†é¡µ","operationId":"getRecycleBinFiles","parameters":[{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cursor","in":"query","description":"åˆ†é¡µæ¸¸æ ‡ï¼Œé¦–æ¬¡è¯·æ±‚ä¸ä¼ ","required":false,"schema":{"type":"string"}},{"name":"limit","in":"query","description":"æ¯é¡µæ•°é‡ï¼ŒèŒƒå›´1-200","required":false,"schema":{"type":"integer","format":"int32","default":50}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePaginatedResponseFileResource"}}}}}}},"/api/documents/{id}/download":{"get":{"tags":["æ–‡æ¡£ç®¡ç†"],"summary":"ä¸‹è½½æ–‡æ¡£æ–‡ä»¶","description":"ä¸‹è½½æ–‡æ¡£çš„æºæ–‡ä»¶ï¼ˆå»ºè®®ç›´æ¥ä½¿ç”¨filePathä¸‹è½½ï¼‰","operationId":"downloadDocument","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/directory-tree":{"get":{"tags":["ç›®å½•æ ‘ç®¡ç†"],"summary":"è·å–å®Œæ•´çš„ç›®å½•æ ‘","description":"\n            è·å–å½“å‰ç”¨æˆ·çš„å®Œæ•´ç›®å½•æ ‘ç»“æ„ï¼ŒåŒ…å«ï¼š\n            - æ‰€æœ‰åˆ†ç»„çš„æ ‘å½¢ç»“æ„\n            - æ¯ä¸ªåˆ†ç»„ä¸‹çš„æ–‡æ¡£\n            - æœªåˆ†ç»„çš„æ–‡æ¡£\n            \n            ç‰¹æ€§ï¼š\n            - è‡ªåŠ¨ä½¿ç”¨Redisç¼“å­˜ï¼ˆ30åˆ†é’Ÿï¼‰\n            - ç”¨æˆ·è§’è‰²ï¼šæŸ¥çœ‹è‡ªå·±çš„æ‰€æœ‰æ–‡æ¡£ï¼ˆåŒ…æ‹¬è‰ç¨¿ï¼‰\n            - æ¸¸å®¢è§’è‰²ï¼šåªèƒ½æŸ¥çœ‹ç›®æ ‡ç”¨æˆ·çš„å·²å‘å¸ƒæ–‡æ¡£\n            - å“åº”ä¸­åŒ…å« cached å­—æ®µï¼Œæ ‡è¯†æ•°æ®æ˜¯å¦æ¥è‡ªç¼“å­˜\n            \n            èŠ‚ç‚¹ç±»å‹ï¼š\n            - nodeType=groupï¼šåˆ†ç»„èŠ‚ç‚¹\n            - nodeType=documentï¼šæ–‡æ¡£èŠ‚ç‚¹\n        ","operationId":"getDirectoryTree","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDirectoryTreeResponse"}}}}}}},"/api/files/{id}/permanent":{"delete":{"tags":["æ–‡ä»¶ç®¡ç†"],"summary":"æ°¸ä¹…åˆ é™¤æ–‡ä»¶","description":"å½»åº•åˆ é™¤æ–‡ä»¶ï¼ŒåŒ…æ‹¬MinIOä¸­çš„ç‰©ç†æ–‡ä»¶ï¼Œä¸å¯æ¢å¤","operationId":"permanentlyDeleteFile","parameters":[{"name":"id","in":"path","description":"æ–‡ä»¶ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","description":"ç”¨æˆ·ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringBoolean"}}}}}}}},"components":{"schemas":{"UpdateFolderRequest":{"type":"object","properties":{"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"color":{"type":"string"},"description":{"type":"string"},"sortIndex":{"type":"integer","format":"int32"}}},"ApiResponseFolderResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FolderResponse"},"timestamp":{"type":"integer","format":"int64"}}},"FolderResponse":{"required":["createdAt","fileCount","id","name","sortIndex","subFolderCount","totalSize","totalSizeFormatted","updatedAt"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"},"color":{"type":"string"},"description":{"type":"string"},"fileCount":{"type":"integer","format":"int32"},"subFolderCount":{"type":"integer","format":"int32"},"totalSize":{"type":"integer","format":"int64"},"totalSizeFormatted":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"children":{"type":"array","items":{"$ref":"#/components/schemas/FolderResponse"}}}},"UpdateFileRequest":{"type":"object","properties":{"fileName":{"type":"string"},"folderId":{"type":"integer","format":"int64"},"description":{"type":"string"}}},"ApiResponseFileResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FileResponse"},"timestamp":{"type":"integer","format":"int64"}}},"FileResponse":{"required":["downloadCount","downloadUrl","fileExtension","fileName","fileSize","fileSizeFormatted","fileType","id","updateTime","uploadTime"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"fileName":{"type":"string"},"fileSize":{"type":"integer","format":"int64"},"fileSizeFormatted":{"type":"string"},"fileType":{"type":"string"},"fileExtension":{"type":"string"},"folderId":{"type":"integer","format":"int64"},"folderName":{"type":"string"},"description":{"type":"string"},"uploadTime":{"type":"string"},"updateTime":{"type":"string"},"downloadCount":{"type":"integer","format":"int32"},"downloadUrl":{"type":"string"},"previewUrl":{"type":"string"},"deletedAt":{"type":"string"},"daysUntilPermanentDeletion":{"type":"integer","format":"int64"}}},"MoveFileRequest":{"type":"object","properties":{"targetFolderId":{"type":"integer","format":"int64"}}},"GroupSortItem":{"required":["id","sortIndex"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"parentId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"}}},"GroupSortRequest":{"required":["items"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/GroupSortItem"}}}},"ApiResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"},"timestamp":{"type":"integer","format":"int64"}}},"DocumentSortItem":{"required":["id","sortIndex"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"groupId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"}}},"DocumentSortRequest":{"required":["items"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/DocumentSortItem"}}}},"CreateGroupRequest":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"}}},"ApiResponseGroupResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/GroupResponse"},"timestamp":{"type":"integer","format":"int64"}}},"GroupResponse":{"required":["id","name","sortIndex","userId"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"children":{"type":"array","items":{"$ref":"#/components/schemas/GroupResponse"}}}},"CreateFolderRequest":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"color":{"type":"string"},"description":{"type":"string"}}},"BatchSortFoldersRequest":{"required":["items"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/FolderSortItem"}}}},"FolderSortItem":{"required":["id","sortIndex"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"}}},"ApiResponseBoolean":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"boolean"},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseMapStringBoolean":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object","additionalProperties":{"type":"boolean"}},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseString":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"string"},"timestamp":{"type":"integer","format":"int64"}}},"BatchOperationRequest":{"required":["action","fileIds"],"type":"object","properties":{"action":{"type":"string","enum":["move","delete","restore","tag"]},"fileIds":{"type":"array","items":{"type":"integer","format":"int64"}},"targetFolderId":{"type":"integer","format":"int64"},"tags":{"type":"array","items":{"type":"string"}}}},"ApiResponseBatchOperationResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/BatchOperationResponse"},"timestamp":{"type":"integer","format":"int64"}}},"BatchOperationFailure":{"required":["id","reason"],"type":"object","properties":{"id":{"type":"string"},"reason":{"type":"string"}}},"BatchOperationResponse":{"required":["failed","success"],"type":"object","properties":{"success":{"type":"array","items":{"type":"string"}},"failed":{"type":"array","items":{"$ref":"#/components/schemas/BatchOperationFailure"}}}},"BatchMoveFilesRequest":{"required":["fileIds"],"type":"object","properties":{"fileIds":{"type":"array","items":{"type":"integer","format":"int64"}},"targetFolderId":{"type":"integer","format":"int64"}}},"ApiResponseMapStringObject":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object","additionalProperties":{"type":"object"}},"timestamp":{"type":"integer","format":"int64"}}},"BatchDeleteFilesRequest":{"required":["fileIds"],"type":"object","properties":{"fileIds":{"type":"array","items":{"type":"integer","format":"int64"}}}},"ApiResponseDocumentDetail":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/DocumentDetail"},"timestamp":{"type":"integer","format":"int64"}}},"DocumentDetail":{"required":["id","sortIndex","title","type","userId"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"groupId":{"type":"integer","format":"int64"},"title":{"type":"string"},"type":{"type":"string"},"fileId":{"type":"integer","format":"int64"},"filePath":{"type":"string"},"sortIndex":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ApiResponseBatchUploadResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/BatchUploadResponse"},"timestamp":{"type":"integer","format":"int64"}}},"BatchUploadResponse":{"required":["failedCount","items","message","success","successCount","totalFiles","totalFolders"],"type":"object","properties":{"success":{"type":"boolean"},"totalFiles":{"type":"integer","format":"int32"},"totalFolders":{"type":"integer","format":"int32"},"successCount":{"type":"integer","format":"int32"},"failedCount":{"type":"integer","format":"int32"},"items":{"type":"array","items":{"$ref":"#/components/schemas/BatchUploadResultItem"}},"message":{"type":"string"}}},"BatchUploadResultItem":{"required":["name","path","success","type"],"type":"object","properties":{"type":{"type":"string"},"name":{"type":"string"},"path":{"type":"string"},"id":{"type":"integer","format":"int64"},"success":{"type":"boolean"},"message":{"type":"string"}}},"ApiResponseUnit":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Unit"},"timestamp":{"type":"integer","format":"int64"}}},"Unit":{"type":"object"},"LoginRequest":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"ApiResponseLoginResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/LoginResponse"},"timestamp":{"type":"integer","format":"int64"}}},"LoginResponse":{"required":["accessToken","refreshToken","user"],"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"user":{"$ref":"#/components/schemas/UserInfo"}}},"UserInfo":{"required":["id","username"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"nickname":{"type":"string"}}},"UpdateGroupRequest":{"type":"object","properties":{"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"}}},"UpdateDocumentRequest":{"type":"object","properties":{"title":{"type":"string"},"groupId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"}}},"ApiResponseUserInfo":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/UserInfo"},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseListGroupResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/GroupResponse"}},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponseObject":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"},"timestamp":{"type":"integer","format":"int64"}}},"ApiResponsePaginatedResponseFolderResource":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PaginatedResponseFolderResource"},"timestamp":{"type":"integer","format":"int64"}}},"FolderResource":{"required":["childFileCount","childFolderCount","createdAt","id","name","owner","type","updatedAt"],"type":"object","allOf":[{"$ref":"#/components/schemas/BaseResource"},{"type":"object","properties":{"childFolderCount":{"type":"integer","format":"int32"},"childFileCount":{"type":"integer","format":"int32"},"color":{"type":"string"},"icon":{"type":"string"},"description":{"type":"string"}}}]},"Owner":{"required":["id","name"],"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"avatar":{"type":"string"}}},"PaginatedResponseFolderResource":{"required":["items","pagination"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/FolderResource"}},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}}},"PaginationInfo":{"required":["hasMore","limit"],"type":"object","properties":{"limit":{"type":"integer","format":"int32"},"nextCursor":{"type":"string"},"hasMore":{"type":"boolean"},"total":{"type":"integer","format":"int64"}}},"ApiResponsePaginatedResponseBaseResource":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PaginatedResponseBaseResource"},"timestamp":{"type":"integer","format":"int64"}}},"BaseResource":{"required":["createdAt","id","name","owner","type","updatedAt"],"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string"},"type":{"type":"string","enum":["folder","file"]},"owner":{"$ref":"#/components/schemas/Owner"},"parentId":{"type":"string"},"metadata":{"type":"object","additionalProperties":{"type":"object"}},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"discriminator":{"propertyName":"type"}},"FileResource":{"required":["createdAt","downloadUrl","extension","id","mimeType","name","owner","size","sizeFormatted","type","updatedAt"],"type":"object","allOf":[{"$ref":"#/components/schemas/BaseResource"},{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"sizeFormatted":{"type":"string"},"mimeType":{"type":"string"},"extension":{"type":"string"},"thumbnailUrl":{"type":"string"},"downloadUrl":{"type":"string"},"previewUrl":{"type":"string"},"folderId":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"description":{"type":"string"}}}]},"PaginatedResponseBaseResource":{"required":["items","pagination"],"type":"object","properties":{"items":{"type":"array","items":{"oneOf":[{"$ref":"#/components/schemas/FileResource"},{"$ref":"#/components/schemas/FolderResource"}]}},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}}},"ApiResponseFolderPathResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FolderPathResponse"},"timestamp":{"type":"integer","format":"int64"}}},"FolderPathItem":{"required":["id","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"FolderPathResponse":{"required":["path"],"type":"object","properties":{"path":{"type":"array","items":{"$ref":"#/components/schemas/FolderPathItem"}}}},"ApiResponseFolderTreeResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FolderTreeResponse"},"timestamp":{"type":"integer","format":"int64"}}},"FolderTreeResponse":{"required":["rootFolders","totalFiles","totalFolders","totalSize","totalSizeFormatted"],"type":"object","properties":{"rootFolders":{"type":"array","items":{"$ref":"#/components/schemas/FolderResponse"}},"totalFolders":{"type":"integer","format":"int32"},"totalFiles":{"type":"integer","format":"int32"},"totalSize":{"type":"integer","format":"int64"},"totalSizeFormatted":{"type":"string"}}},"ApiResponseRootFolderResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/RootFolderResponse"},"timestamp":{"type":"integer","format":"int64"}}},"RootFolderResponse":{"required":["childFileCount","childFolderCount","id","name","type"],"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"name":{"type":"string"},"childFolderCount":{"type":"integer","format":"int32"},"childFileCount":{"type":"integer","format":"int32"},"children":{"$ref":"#/components/schemas/PaginatedResponseFolderResource"}}},"ApiResponseFileStatisticsResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/FileStatisticsResponse"},"timestamp":{"type":"integer","format":"int64"}}},"FileStatisticsResponse":{"required":["fileTypeDistribution","recentUploads","totalFiles","totalSize","totalSizeFormatted"],"type":"object","properties":{"totalFiles":{"type":"integer","format":"int32"},"totalSize":{"type":"integer","format":"int64"},"totalSizeFormatted":{"type":"string"},"fileTypeDistribution":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"recentUploads":{"type":"array","items":{"$ref":"#/components/schemas/FileResponse"}}}},"ApiResponsePaginatedResponseFileResource":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PaginatedResponseFileResource"},"timestamp":{"type":"integer","format":"int64"}}},"PaginatedResponseFileResource":{"required":["items","pagination"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/FileResource"}},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}}},"ApiResponsePaginatedResponseDocumentItem":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PaginatedResponseDocumentItem"},"timestamp":{"type":"integer","format":"int64"}}},"DocumentItem":{"required":["id","sortIndex","title","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"type":{"type":"string"},"groupId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"PaginatedResponseDocumentItem":{"required":["items","pagination"],"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/DocumentItem"}},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}}},"ApiResponseDirectoryTreeResponse":{"required":["code","message","timestamp"],"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/DirectoryTreeResponse"},"timestamp":{"type":"integer","format":"int64"}}},"DirectoryTreeNode":{"required":["id","name","nodeType","sortIndex"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nodeType":{"type":"string","enum":["GROUP","DOCUMENT"]},"name":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"groupId":{"type":"integer","format":"int64"},"sortIndex":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"type":{"type":"string"}}},"DirectoryTreeResponse":{"required":["cached","tree"],"type":"object","properties":{"tree":{"type":"array","items":{"$ref":"#/components/schemas/DirectoryTreeNode"}},"cached":{"type":"boolean"}}}},"securitySchemes":{"Bearerè®¤è¯":{"type":"http","description":"è¯·è¾“å…¥JWTä»¤ç‰Œï¼ˆæ— éœ€æ·»åŠ Bearerå‰ç¼€ï¼‰","scheme":"bearer","bearerFormat":"JWT"}}}}